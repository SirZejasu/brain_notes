---
tags:
  - adressierung
  - technische_informatik
  - tgi
sticker: ""
banner_y: "48.5"
---
> [!warning]
> Vorher [[Befehle in Assembler]] lesen und verstehen
>  Wir arbeiten hier mit dem Prozessor-Befehle von Motorolla!
    > BEFEHL QUELLE, ZIEL (Motorolla)
    > Nicht umgedreht!
# Die Adressierungsarten
> [!hint]
    > Der 68000 hat nur 24 Adressleitungen auf den Adressbus herausgeführt (HW- Aufwand reduzieren!). Deshalb sind nur 2 hoch 24, also 16.777.216 Adressen unterscheidbar. Da jede Adresse ein bestimmtes Byte im Speicher adressiert, sind also maximal 16 MByte große Speicher adressierbar.
![[Pasted image 20250919151627.png]]
![[Screenshot from 2025-09-19 16-47-15.png]]


| Adressierungsarten                                            | Bedeutung                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Beispiel                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Adressregister-Indirekte                                      | Die Adresse selbst führt nicht zum Konstanten. Stattdessen führt es zu einem Register, dass die Adresse zum Konstanten enthält.<br><br>Alle Adressierungsarten mit [[CPU-Aufbau und Geschichte#Register\|Adressregister]]-indirekter Adressierung eignen sich insbesondere für die Bearbeitung von<br>Arrays, Stapeln und zur blockweisen Datenverschiebung.<br>![[Pasted image 20250801214048.png]]<br><br>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | <br><br>![[Pasted image 20250801214217.png\|300]]<br><br>![[Pasted image 20250809125133.png]]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Adressregister-Indirekte mit Inkrement und Dekrement          | **Inkrement**: Wie indirekt, nur wird hier zusätzlich das [[CPU-Aufbau und Geschichte#Register\|Adressregister]] **nach** dem Speicherzugriff um die Länge des Operanden (in Byte) erhöht.<br><br>Dekrement: Das [[CPU-Aufbau und Geschichte#Register\|Adressregister]] wird **vor** dem Speicherzugriff um die Länge des Operanden (in Byte) erniedrigt.<br><br>Findet Verwendung unter anderem bei [[#Stack und Prädekrement und Postinkrement\|Stack]]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Inkrement: <br>![[Pasted image 20250801215945.png]]<br>Dekrement:<br><br>Länge des Operanden: 4 Hex. = 16 Bits = 2 Bytes (Word)<br>Adresse in Register A = 100 = 0001 0000 0000 = 256 (Dz)<br><br>(Dezimahlzahl der Adresse + Länge des Operanten in Byte): 256 + 2 = 258 (Dezimahlzahl) = 102<br><br>![[Pasted image 20250801220508.png]]Dekrement:<br>(Das "+" ist glaube ich ein weiterer Tippfehler)<br><br>Länge des Operanden: 4 Hex. = 16 Bits = 2 Bytes (Word)<br>Adresse in Register A = 100 = 0001 0000 0000 = 256 (Dz)<br><br>Dekrement, (Dezimahlzahl der Adresse - Länge des Operanten in Byte): 256 - 2 = 254 (Dezimahlzahl) = FE |
| Register-Direkt                                               | Der Operant steht "direkt" in im Register<br><br>Falls der Zieloperand ein Adressregister ist, muss der Befehl [[Befehle in Assembler#Liste der Assembler-Befehle\|MOVEA.x]] verwendet werden.<br><br>![[Pasted image 20250915160254.png]]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | ![[Pasted image 20250915160306.png]]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Unmittelbar                                                   | ![[Pasted image 20250920152533.png]]<br><br>Kein adressierter Operand. Dabei handelt es sich um einen Konstanten, der Operand selbst ist die Quelle. Sie ist erkennbar durch das "#"-Symbol<br><br>• **Binäre Konstanten** beginnen mit % oder enden mit b. Diese Konstanten bestehen natürlich nur aus „0“ und „1“. Beispiel für solch eine Konstante: %10110001 bzw. 10110001b.<br>Gelesen von recht nach links.<br><br>• **Hexadezimale Konstanten** beginnen mit $ oder enden mit h. Diese Konstanten bestehen aus den Zeichen 0 bis 9 sowie A bis F. Beispiel für solche eine Konstante: $DF bzw. DFh <br>Gelesen von recht nach links.<br><br>• **Dezimale Konstanten** bestehen aus Ziffern 0 bis 9. Werden keine weiteren Angaben gemacht, so nimmt der Assembler an, dass eine Konstante im Dezimalsystem vorliegt. <br>Gelesen von recht nach links.<br><br>• **Stringkonstanten** werden in einfache Anführungszeichen gesetzt. Beispiel für solch eine Konstante: 'test'.<br>Speicherplatz: ein char entspricht 1 Byte (ASCII-Code)<br>Wir lesen von links nach rechts.<br>                                                                                    | ```MOVE.L #$54321, $30000``` (Der Wert wird in der Speicherzelle mit der Adresse "$3000" gespeichert)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Adressregister-indirekt mit Adressdistanz / Effektive Adresse | Die effektive Adresse ist die vom Adresswerk berechnete Speicheradresse eines Operanden gemeint.<br><br>Die effektive Adresse wird berechnet durch Addition des Inhaltes eines [[CPU-Aufbau und Geschichte#Register\|Adressregisters]] mit einer konstanten Adressdistanz. Die Konstante darf maximal 16Bit sein.<br><br>Adressdistanz im Zweierkomplement<br>![[Pasted image 20250809124936.png]]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | ![[Pasted image 20250915163907.png]]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Absolut                                                       | Die Adresse wird direkt angegeben in einem Opcode in einem der Operanden. <br><br>Man unterscheidet zwischen "lang" (normaler direkter Zugriff) und "kurz" (s.  Beispiel)<br><br>Absolut kurz wird verwendet für einen schnellen Zugriff auf Daten, z.B  findet es Anwendung beim Speicherzugriff auf den RAM, wenn im unteren 32k Adressraum im RAM häufig benötigte Daten abgelegt werden und im obersten 32k-Adressraum Adressen von häufig verwendeten I/O-Bausteineispiel: e. <br><br>Adresskonstanten bei "Absolut kurz" habe die Größe eines Wortes (2 Byte).<br>Nur ein Teil des 16MB großen Adressraums werden angesprochen, nämlich $2⁸$ Bytes (64KBytes).<br>Diese wird unterteilt in obere und untere Leitung.<br>Das besondere hier ist, dass bei Adressen kleiner $8000 die oberen 8 Adressleitungen auf 0 (Beispiel: $**0000 0000** 1000) gesetzt werden und bei Adressen größer $8000 die oberen 8 Adressleitungen auf 1 (§**1111 1111** 1000)gesetzt werden. <br>Demnach können mit dieser Adressierungsart innerhalb des 16 MByte Adressraumes die untersten bzw. die obersten 32 KByte angesprochen werden.<br><br>![[Pasted image 20250919152105.png]] | ![[Pasted image 20250919152047.png]]<br><br>Beispiel einer absoluten "kurzen" und "lange" Adresse.<br>Die "kurze" Adresse ist maximal 4 hexadezimlzahlen breit (4 * 4 = 16, $2^{16}$ Adressen für Speicher)<br>Die "lange" Adresse befindet sich außerhalb des 64KBytes Bereichs und beginnt bei der 5.ten Hexadezimalzahl.<br>![[Screenshot from 2025-09-19 16-11-34.png]]                                                                                                                                                                                                                                                                     |
| PC-relativ                                                    | Adressen werden hier relativ zum Inhalt des Befehlszählers berechnet. So kann man erreichen, dass im Programm keine absoluten Adressen stehen, sondern nur relative Distanzen. Das Pro- gramm ist im Speicherbereich so leicht verschiebbar: Die Anfangsadresse des Programms kann variiert werden, ohne dass Änderungen im Programm notwendig werden.<br><br>**Formel zu Berrechnung der effektiven Adresse:**<br>$(ea) = (PC+2) +d_{16}$<br><br>wobei *PC* der Befehlszählerstand zu Beginn des betrachteten Befehls ist und $d_{16}$ eine vorzeichenbehaftete Konstante der Länge von 16 Bit ist. Somit erklärt sich im Beispiel, warum der zweite Teil des Maschinencodes des MOVE-Befehls in obigem Listing den Wert $0004 hat                                                                                                                                                                                                                                                                                                                                                                                                                                        | ![[Pasted image 20250919162330.png]]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Rücksprungadresse                                             | Die Adresse, die im Programm durch JSR oder BSR gespeichert wurde.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
> [!example] Beispiel: MOVE-Befehl
    > Anhand des Move-Befehl wollen wir uns die Adressierung genauer ansehen.
    > ![[TGI-K02-Anhänge#^e9fc11]]
    > `MOVE.x <a1>,<a2>`
    > Es geht um die Übertragung des Inhalts der Speicherzelle mit der Adresse $1E01 in das Register D3. Die Befehlszeile hierfür lautet:
    > `MOVE.B $1E01, D3;
     > // $1E01 = Quelle, D3 = Ziel`

> [!hint] Verschiedene Verhalten bei Adressierarten
    > Zu beachten ist, dass Adressierarten für Byte, Wort- und Langwort-Daten noch etwas unterschiedlich funktionieren je nach Befehl.

## Besondere Verwendung bei Stack
> [!Faq] Stack und Prädekrement und Postinkrement
    > Ein MOVE-Befehl, dessen Zieloperand die Adressierungsart „[[#Die Adressierungsarten|Adressregister- indirekt mit Prädekrement]]“ verwendet, entspricht einer **push-Operation** 
    > 
    > Ein MOVE-Befehl, dessen Quelloperand die Adressierungsart „[[#Die Adressierungsarten|Adressregister- indirekt mit Postinkrement]]“ verwendet, entspricht einer **pop-Operation**.
    > 
    > Der Register zeigt immer auf das oberste Stackelement.
# Adresswerk
> [!NOTE] Adresswerk
    > Der Adresswerk ist eine Logik, die die Adressierung während der Laufzeit berechnet.  Für den Quelloperanden einer Instruktion kann eine andere Adressierungsart verwendet werden als für den Zieloperanden der Instruktion.

